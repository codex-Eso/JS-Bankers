<html>
    <head><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css">
        <link rel="stylesheet" href="index.css">
    </head>
    <body onload="auto()">
        <div class="start">
            <h4>Welcome to JS Bankers!</h4>
            <strong>The main goal of the game is to get 1 billion JS dollars! ü§ë</strong><br><br>
            <strong>Press EARN To Start!!!</strong>
        </div>
        <br>
        <div class="buttons">
            <button class="btn" onclick="hire()"><strong>HIREü´¥</strongÔøΩg></button>
            <button class="btn" onclick="invest()"><strong>INVESTüìä</strong></button>
            <button class="btn" onclick="help()"><strong>HELP‚ùì</strong></button>
            <button class="btn" onclick="find()"><strong>FIND üëÄ</strong></button>
            <a href = "https://discord.com/invite/zBQF3ts486" target = "_blank">
                <button class="btn"><strong>DISCORDüëã</strong></button>
            </a>
        </div>
        <br><br>
        <div class="texts">
            <div class="your_money">
                Earnings :
                <text id="idle">0</text> ü§ë<br><br>
                Total sum of money : 
                <text id="total">0</text> üí∞<br><br>
                <text id="hunt"></text><br><br>
                <text id="items"></text><br><br>
                <text id="op"></text><br><br>
            </div>
            <text id="hiring"></text><br><br>
            <text id="extra"></text><br><br>
            <text id="invest"></text><br><br>
            <text id="good_job"></text><br><br>
            <text id="help"></text><br><br>
            <text id="congrats"><strong></strong></text><br>
        </div>
        <script src="index.js"></script>
        <script>
            let total_money = 100
            let totalEl = document.getElementById("total")
            let textEl = document.getElementById("good_job")
            let textHire = document.getElementById("hiring")
            let hired_total = 0
            let checker1 = 0
            let workers = 0
            let helper = document.getElementById("help")
            let helped = 0
            let investment = document.getElementById("invest")
            let finale = document.getElementById("congrats")
            let start = true
            let idleEl = document.getElementById("idle")
            let idle_cash = 0
            let extras = document.getElementById("extra")
            let item = document.getElementById("items")
            let gg = document.getElementById("op")
            let op_items = ["Robot"]
            let claimed2 = 0
            let counter = 2
            let find_item = document.getElementById("hunt")
            let checker2 = 0

            function find() {
                if (workers < 10) {
                    find_item.textContent = "You need 10 workers to do this!"
                } else if (workers >= 10) {
                    if (op_luck() === 1 && claimed2 === 0) {
                        find_item.textContent = "LUCKY!!! You found a broken Robot ü§ñ that looks fixable, and after repairing it, it was able to help you earn more auto bucks!"
                        claimed2 = 1
                    } else if (op_luck() === 1 && claimed2 === 1) {
                        find_item.textContent = "You found another broken robot, but it is not fixable!ü•≤"
                    } else if (op_luck() === "Money") {
                        random_amt = Math.round(Math.random(0,1)*400)
                        find_item.textContent = `Your workers found some items that are worth ${random_amt} JS dollars!ü§ë`
                        division = Math.round(random_amt / 100)
                        counter += division
                        total_money += random_amt
                        totalEl.textContent = total_money
                    } else {
                        find_item.textContent = `Your workers found nothing! You needed to pay your workers for helping you find items! - 500 JS dollars üí∏`
                        total_money -= 500
                        totalEl.textContent = total_money
                    }                    
                }
                if (total_money >= (counter * 100)) {
                    textEl.textContent = `Nice job! That's ${counter * 100} JS dollars üëè`
                    counter += 1
                }
            }

            function item_luck() {
                nice_luck = Math.round(Math.random(0,1)*100)//change
                random_item = Math.round(Math.random(0,1)*3)
                if (nice_luck === 1) {
                    return(random_item)
                } else {
                    return("Nothing")
                }
            }
            
            function op_luck() {
                nice_luck = Math.round(Math.random(0,1)*200)//change
                random_item = 1 //change
                if (nice_luck === 150) {
                    return(random_item)
                } else if (nice_luck <= 100) {
                    return("Money")
                } else {
                    return("Nothing")
                }
            }
            
            function auto() {
                //time
                timer = 7000
                for (i = workers; i > 0; i--) {
                    timer -= 10
                }
                //auto earn
                if (start === true && claimed2 === 1) {
                    idle_cash += 10
                    if (workers !== 0) {
                        for (i = workers; i > 0; i--) {
                            idle_cash += 1
                        }
                    }
                    total_money += idle_cash
                    idleEl.textContent = idle_cash
                    totalEl.textContent = total_money
                } else if (start === true) {
                    idle_cash += 1
                    if (workers !== 0) {
                        for (i = workers; i > 0; i--) {
                            idle_cash += 1
                        }
                    }
                    total_money += idle_cash
                    idleEl.textContent = idle_cash
                    totalEl.textContent = total_money
                }
                idle_cash = 0
                //item luck
                if (item_luck() === 0) {
                    item.textContent = `NICE! You were working and found a shoe üëü that cost 200 JS dollars!`
                    total_money += 200
                    totalEl.textContent = total_money
                    counter += 1
                } else if (item_luck() === 1) {
                    item.textContent = `NICE! You were working and found some books üìö that cost 300 JS dollars!`
                    total_money += 300
                    totalEl.textContent = total_money
                    counter += 2
                } else if (item_luck() === 2) {
                    item.textContent = `NICE! You were working and found a parcel üì¶ that contained an antique! It costed 500 JS dollars!`
                    total_money += 500
                    totalEl.textContent = total_money
                    counter += 4
                } else if (item_luck() === 3) {
                    purse_money = Math.round(Math.random(0,1)*400)
                    division = Math.round(purse_money / 100)
                    item.textContent = `NICE! You were working and found a purse üëõ that contained ${purse_money} JS dollars! The wallet itself costed 100 JS dollars!`
                    total_money += purse_money + 100
                    totalEl.textContent = total_money
                    counter += division
                } else {
                    item.textContent = "You were glancing around your surroundings while working and found nothing.ü´§"
                }
                //other texts
                if (total_money >= (counter * 100)) {
                    textEl.textContent = `Nice job! That's ${counter * 100} JS dollars üëè`
                    counter += 1
                }
                if (workers >= 10 && checker2 === 0) {
                    find_item.textContent = "Now you can use the FIND button!"
                    checker2 = 1
                } else {
                    find_item.textContent = ""
                }
                if (total_money >= 500 && checker1 === 0) {
                    investment.textContent = "Now you can use the INVEST button!"
                    checker1 = 1
                }
                if (helped === 2) {
                    helper.textContent = ""
                    helped = 0
                }
                setTimeout(auto, timer)
            }
            
            function check_num(num) {
                return isNaN(num)
            }
            
            function invest() {
                if (total_money < 500 && checker1 === 1) {
                    investment.textContent = "You need at least 500 JS dollars for investment!"
                    extras.textContent = ""
                } else if (total_money < 500 && checker1 === 0) {
                    investment.textContent = "Reach 500 JS dollars first to unlock this phrase"
                } else {
                    invest_money = prompt("Enter how much money you would like to investüí≤")
                    non = check_num(invest_money)
                    while (non === true) {
                        invest_money = prompt("Enter how much money you would like to investüí≤")
                        non = check_num(invest_money)
                    }
                    invest_money = parseInt(invest_money)
                    if (total_money < invest_money) {
                        alert("You don't have enough money!")
                    } else if (total_money >= invest_money) {
                        total_money -= invest_money
                        company = Math.round(Math.random(0,1)*3)
                        if (company === 1) {
                            total_money += 100
                            extras.textContent = "You randomly invested in Company B and got an extra 100 JS dollars!ü§ë"
                            totalEl.textContent = total_money
                        } else if (company === 2) {
                            extra_money = Math.round(Math.random(0,1)*500)
                            total_money += extra_money
                            extras.textContent = `You randomly invested in Company A and got an extra ${extra_money} JS dollars!ü§ë`
                            totalEl.textContent = total_money
                        } else {
                            extras.textContent = "You randomly invested in Company C and got nothing in return, now that's sad!üòï"
                        }
                        luck = Math.round(Math.random(0,1)*10)
                        if (luck === 1 || luck === 10) {
                            investment.textContent = "And congrats! The company you invested succeeded with the money you gave them! They gave you double the amount you invested!üìà"
                            total_money += invest_money * 3
                            totalEl.textContent = total_money
                        } else if (luck === 3 || luck === 9) {
                            investment.textContent = `However, the company you invested still loss profits.üìâ -${invest_money} JS dollars üí∏`
                            total_money -= invest_money
                            totalEl.textContent = total_money
                        } else {
                            investment.textContent = "However, the company you invested in got...the same stocks as before. No gain, no loss.üòê"
                            totalEl_textContent = total_money
                        }
                    }
                }
                if (total_money < 0) {
                    total_money = 0
                    totalEl.textContent = total_money
                }
                if (total_money >= (counter * 100)) {
                    textEl.textContent = `Nice job! That's ${counter * 100} JS dollars üëè`
                    counter += 1
                }
                if (helped === 2) {
                    helper.textContent = ""
                }
                textHire.textContent = ""
                find_item.textContent = ""
            }

            function help() {
                helper.textContent = "Hire: Gives an additional +1 JS dollar in auto earn. Invest : Invest any amout of JS dolars in businesses to either lose/earn money. Find : Find items that will bring benefits! Requires 5 workers to do so! Auto Earn: Not an interactive button, but allows you to earn money while being idle. Updates: For update info, click the DISCORD button! (Press the HELP button ONCE again to exit)"
                helped += 1
                if (total_money >= (counter * 100)) {
                    textEl.textContent = `Nice job! That's ${counter * 100} JS dollars üëè`
                    counter += 1
                }
                textHire.textContent = ""
                investment.textContent = ""
                extras.textContent = ""
                find_item.textContent = ""
            }   

            function hire() {
                investment.textContent = ""
                extras.textContent = ""
                to_hire = prompt("Enter how many workers you would like to hireü´¥")
                non = check_num(to_hire)
                while (non === true) {
                    to_hire = prompt("Enter how many workers you would like to hireü´¥")
                    non = check_num(to_hire)
                }
                to_hire = parseInt(to_hire)
                hired_total += to_hire
                limit_worker = 500 - hired_total
                if (total_money < (100 * to_hire)) {
                    textHire.textContent = "You don't have enough money!"
                    hired_total -= to_hire
                } else if (limit_worker < 0) {
                    textHire.textContent = "You have exceeded the limit of workers!"
                    hired_total -= to_hire
                } else if (total_money >= (100 * to_hire)) {
                    textHire.textContent = `Hired! -${100 * to_hire} JS dollars üí∏`
                    let hired = 100
                    total_money -= (hired * to_hire)
                    totalEl.textContent = total_money
                    workers += to_hire
                    return(workers)
                }
                if (total_money >= (counter * 100)) {
                    textEl.textContent = `Nice job! That's ${counter * 100} JS dollars üëè`
                    counter += 1
                }
                if (workers >= 10 && checker2 === 0) {
                    find_item.textContent = "Now you can use the FIND button!"
                    checker2 = 1
                } else {
                    find_item.textContent = ""
                }
                investment.textContent = ""
                extras.textContent = ""
            }

            /*function earn() {
                if (op_luck() === 0 && claimed1 === 0) {
                    gg.textContent = "LUCKY!!! You found a LunchBox ü•° that is packed with food! You had your own lunch, so you gave it to your workers, and now they feel energized!"
                    claimed1 = 1
                } else if (op_luck() === 1 && claimed2 === 0) {
                    gg.textContent = "LUCKY!!! You found a broken Robot ü§ñ that looks fixable, and after repairing it, it was able to help you earn more side cash!"
                    claimed2 = 1
                } else if (op_luck() === 0 && claimed1 === 1) {
                    gg.textContent = "You found another LunchBox, but your workers were full from the lunch you gave them. Maybe next time!ü´§"
                } else if (op_luck() === 1 && claimed2 === 1) {
                    gg.textContent = "You found another broken robot, but it is not fixable!ü•≤"
                } else {
                    gg.textContent = ""
                }
            }*/
        </script>
    </body>
</html>